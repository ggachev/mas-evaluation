{"model_name_or_path": "default_gpt5__gpt-5-mini-2025-08-07__t-1.00__p-None__c-2.00___swe_bench_verified_test", "instance_id": "pytest-dev__pytest-5262", "model_patch": "diff --git a/src/_pytest/capture.py b/src/_pytest/capture.py\nindex 25eab7fd..940ebf37 100644\n--- a/src/_pytest/capture.py\n+++ b/src/_pytest/capture.py\n@@ -447,6 +447,21 @@ class EncodedFile(object):\n         \"\"\"Ensure that file.name is a string.\"\"\"\n         return repr(self.buffer)\n \n+    @property\n+    def mode(self):\n+        \"\"\"Return a text mode for this encoded file (do not include 'b').\n+\n+        Some code checks for a 'b' in the mode to decide whether to write\n+        bytes or text. EncodedFile wraps a binary buffer but behaves like a\n+        text stream, so advertise a mode without the binary flag.\n+        \"\"\"\n+        buf = object.__getattribute__(self, \"buffer\")\n+        m = getattr(buf, \"mode\", None)\n+        if m is None:\n+            return \"\"\n+        # strip the binary flag 'b' from the mode\n+        return m.replace(\"b\", \"\")\n+\n     def __getattr__(self, name):\n         return getattr(object.__getattribute__(self, \"buffer\"), name)\n \n"}