{"model_name_or_path": "default_gpt5__gpt-5-mini-2025-08-07__t-1.00__p-None__c-2.00___swe_bench_verified_test", "instance_id": "matplotlib__matplotlib-23299", "model_patch": "diff --git a/lib/matplotlib/__init__.py b/lib/matplotlib/__init__.py\nindex c268a56724..d22fd26115 100644\n--- a/lib/matplotlib/__init__.py\n+++ b/lib/matplotlib/__init__.py\n@@ -1175,7 +1175,14 @@ def get_backend():\n     --------\n     matplotlib.use\n     \"\"\"\n-    return rcParams['backend']\n+    # Use the non-resolving accessor to avoid importing pyplot/switching\n+    # backends as a side-effect (which previously could close all figures).\n+    backend = rcParams._get_backend_or_none()\n+    if backend is None:\n+        # If the backend was not explicitly set, fall back to the original\n+        # backend choice if available without triggering backend resolution.\n+        return rcParamsOrig.get('backend', None)\n+    return backend\n \n \n def interactive(b):\ndiff --git a/tmp/repro.py b/tmp/repro.py\nnew file mode 100644\nindex 0000000000..4282bf58ff\n--- /dev/null\n+++ b/tmp/repro.py\n@@ -0,0 +1,15 @@\n+import matplotlib.pyplot as plt\n+from matplotlib import get_backend, rc_context\n+\n+# fig1 = plt.figure()  # <- UNCOMMENT THIS LINE AND IT WILL WORK\n+# plt.ion()            # <- ALTERNATIVELY, UNCOMMENT THIS LINE AND IT WILL ALSO WORK\n+with rc_context():\n+    fig2 = plt.figure()\n+before = f'{id(plt._pylab_helpers.Gcf)} {plt._pylab_helpers.Gcf.figs!r}'\n+get_backend()\n+after = f'{id(plt._pylab_helpers.Gcf)} {plt._pylab_helpers.Gcf.figs!r}'\n+\n+print('before:', before)\n+print('after: ', after)\n+assert before == after, '\\n' + before + '\\n' + after\n+print('OK')\n"}